<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³µì£¼ë“¤ì˜ ê³µì£¼ ì—¬í–‰ ğŸŒ°</title>
    
    <!-- Tailwind CSS (ìŠ¤íƒ€ì¼ ë„êµ¬ ë¶ˆëŸ¬ì˜¤ê¸°) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ì•„ì´ì½˜ ë„êµ¬ ë¶ˆëŸ¬ì˜¤ê¸° -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- í°íŠ¸ ì„¤ì • -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .dashed-line { border-left: 2px dashed #e5e7eb; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex justify-center items-start pt-0 md:pt-10 pb-10">

    <div class="w-full max-w-md bg-gray-50 min-h-screen md:min-h-[800px] md:h-auto md:rounded-3xl shadow-2xl flex flex-col relative overflow-hidden">
        
        <!-- Header -->
        <div class="bg-amber-900 text-white p-6 rounded-b-3xl shadow-lg z-10 relative overflow-hidden shrink-0">
            <div class="absolute top-0 right-0 p-4 opacity-10">
                <i data-lucide="tent-tree" width="120" height="120"></i>
            </div>
            <div class="flex justify-between items-center mb-4">
                <span class="text-amber-200 text-xs font-bold tracking-widest uppercase">Travel Plan</span>
                <div class="bg-amber-800/60 px-3 py-1 rounded-full text-xs backdrop-blur-sm flex items-center gap-1">
                    <i data-lucide="map-pin" width="12"></i> ì¶©ë‚¨ ê³µì£¼
                </div>
            </div>
            <h1 class="text-2xl font-bold mb-2 leading-tight">ê³µì£¼ë“¤ì˜<br/>ê³µì£¼ ì—¬í–‰ ğŸŒ°</h1>
            
            <!-- ë©¤ë²„ ë°°ì§€ -->
            <div class="flex flex-wrap gap-2 mt-3 mb-4">
                <span class="bg-white/20 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm font-medium flex items-center gap-1">ğŸ‘© ì• ë´‰</span>
                <span class="bg-white/20 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm font-medium flex items-center gap-1">ğŸ‘© ì¯©</span>
                <span class="bg-amber-400 text-amber-900 px-3 py-1.5 rounded-full text-sm font-bold flex items-center gap-1 shadow-sm">ğŸ© í˜¸ë‘</span>
            </div>

            <!-- íƒ­ ë²„íŠ¼ -->
            <div class="flex space-x-1 bg-amber-950/30 p-1 rounded-xl backdrop-blur-md mt-2">
                <button onclick="switchTab('day1')" id="btn-day1" class="tab-btn flex-1 py-2 rounded-lg text-sm font-semibold transition-all duration-200 bg-white text-amber-900 shadow-sm">1ì¼ì°¨</button>
                <button onclick="switchTab('day2')" id="btn-day2" class="tab-btn flex-1 py-2 rounded-lg text-sm font-semibold transition-all duration-200 text-amber-200 hover:bg-white/10">2ì¼ì°¨</button>
                <button onclick="switchTab('check')" id="btn-check" class="tab-btn flex-1 py-2 rounded-lg text-sm font-semibold transition-all duration-200 text-amber-200 hover:bg-white/10 flex justify-center items-center gap-1">
                    <i data-lucide="check-circle" width="14"></i> ì¤€ë¹„ë¬¼
                </button>
            </div>
        </div>

        <!-- Content Area -->
        <div id="content-area" class="flex-1 overflow-y-auto p-4 pb-20 scrollbar-hide">
            <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë‚´ìš©ì´ ì±„ì›Œì§‘ë‹ˆë‹¤ -->
        </div>

    </div>

    <script>
        // --- ë°ì´í„° ---
        const itinerary = {
            day1: [
                { id: 'd1-0', time: '09:30', title: 'ì˜¤ì‚° ì¶œë°œ ğŸš—', category: 'move', desc: 'ì§‘ì—ì„œ ì •ì•ˆì²œ ìƒíƒœê³µì›ê¹Œì§€ ì•½ 1ì‹œê°„ 30ë¶„ ì†Œìš”. ë“œëšœì—ì„œ ì»¤í”¼ í•œì”?', tags: ['ì¶œë°œ', 'í˜¸ë‘íƒ‘ìŠ¹'], address: '-', icon: 'home', color: 'text-gray-500', bg: 'bg-gray-100' },
                { id: 'd1-1', time: '11:00', title: 'ë©”íƒ€ì„¸ì½°ì´ì–´ê¸¸ & ì •ì•ˆì²œ ì‚°ì±…', category: 'sight', desc: 'ê°€ë³ê²Œ ì‚°ì±…í•˜ë©° ì‚¬ì§„! ğŸ“¸', tags: ['ì‚°ì±…', 'ì‚¬ì§„', 'ì£¼ì°¨ê°€ëŠ¥'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ ì˜ë‹¹ë©´ ì²­ë£¡ë¦¬ 905-1', icon: 'tent-tree', color: 'text-green-600', bg: 'bg-green-100' },
                { id: 'd1-2', time: '12:30', title: 'ì ì‹¬: ë§¤í–¥', category: 'food', desc: 'ë¹„ë¹” ë§‰êµ­ìˆ˜, í¸ìœ¡ë¬´ì¹¨ ì¶”ì²œ! (âš ï¸ ë°˜ë ¤ê²¬ ë™ë°˜ ë¶ˆê°€: í˜¸ë‘ëŠ” ì ì‹œ ì°¨ì— ë‘ê³  í›„ë”± ë¨¹ê³  ì˜¤ê¸°)', tags: ['ë§‰êµ­ìˆ˜', 'í¸ìœ¡', 'ì›¨ì´íŒ…ì£¼ì˜'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ ë°±ë¯¸ê³ ì„ê¸¸ 6', icon: 'utensils', color: 'text-orange-500', bg: 'bg-orange-100' },
                { id: 'd1-3', time: '13:00', title: 'ì¹´í˜: ì‰ë§ˆë¡±', category: 'cafe', desc: 'ì˜ë ê°¸ë˜ ë§›ì§‘. ğŸ¶ í˜¸ë‘ë‘ ê°™ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŒ! (ê³µì˜ì£¼ì°¨ì¥ ì´ìš©)', tags: ['ë””ì €íŠ¸', 'ì• ê²¬ë™ë°˜'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ ë°±ë¯¸ê³ ì„ê¸¸ 5-3', icon: 'coffee', color: 'text-amber-700', bg: 'bg-amber-100' },
                { id: 'd1-4', time: '14:00', title: 'ì†Œë¡œë¹µì§‘ (ë‚´ì¼ ì•„ì¹¨ ë¹µ)', category: 'cafe', desc: 'ì• í”ŒíŒŒì´, ê°ìë² ì´ê¸€, ìƒŒë“œìœ„ì¹˜ ë“± í¬ì¥. ì‰ë§ˆë¡±ì—ì„œ ê±¸ì–´ê°€ë„ ë¨.', tags: ['ë¹µì§€ìˆœë¡€', 'í¬ì¥'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ ë°±ë¯¸ê³ ì„ê¸¸ 10-5', icon: 'shopping-bag', color: 'text-yellow-600', bg: 'bg-yellow-100' },
                { id: 'd1-5', time: '15:00', title: 'ì¥ë³´ê¸° ğŸ›’', category: 'shopping', desc: 'ìˆ™ì†Œ ê°€ê¸° ì „ ì¥ë³´ê¸°. (ê³¼ì¼, ìŒë£Œ, ë¬¼, ìŠ¤ëª¨ì–´ ì¬ë£Œ ë“±)', tags: ['ë§ˆíŠ¸', 'ì¤€ë¹„'], address: '-', icon: 'shopping-bag', color: 'text-blue-500', bg: 'bg-blue-100' },
                { id: 'd1-6', time: '17:00', title: 'ì €ë… í”½ì—…: í”¼íƒ•ê¹€íƒ•', category: 'food', desc: 'ê³µì£¼ ëª…ë¬¼ ê¹€í”¼íƒ• í¬ì¥! (ë¸Œë ˆì´í¬íƒ€ì„ 15:30-16:30 ëë‚œ í›„ ë°©ë¬¸)', tags: ['ê¹€í”¼íƒ•', 'í¬ì¥'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ í•œì 2ê¸¸ 41-11', icon: 'utensils', color: 'text-red-500', bg: 'bg-red-100' },
                { id: 'd1-7', time: '17:30', title: 'ìˆ™ì†Œ ì²´í¬ì¸ (ìŠ¤í…Œì´ë³´ëŠ¬ë°¤)', category: 'stay', desc: 'ìˆ™ì†Œ ì…ì‹¤! ğŸ¡ ì§ í’€ê³  ì‰¬ê¸°', tags: ['ì²´í¬ì¸', 'ìˆ™ì†Œ'], address: 'ì¶©ì²­ë‚¨ë„ ê³µì£¼ì‹œ (ì˜ˆì•½ë¬¸ì í™•ì¸)', icon: 'bed', color: 'text-indigo-500', bg: 'bg-indigo-100' },
                { id: 'd1-8', time: '18:00', title: 'ì €ë… - ê¹€í”¼íƒ•', category: 'food', desc: 'ë‚˜ì†”ë³´ë©´ì„œ ê¹€í”¼íƒ• ë¨¹ê¸°', tags: ['ì €ë…ì‹ì‚¬'], address: 'ì¶©ì²­ë‚¨ë„ ê³µì£¼ì‹œ (ì˜ˆì•½ë¬¸ì í™•ì¸)', icon: 'bed', color: 'text-indigo-500', bg: 'bg-indigo-100' },
                { id: 'd1-9', time: '19:00', title: 'ë¶ˆë© & ìŠ¤ëª¨ì–´ ğŸ”¥', category: 'activity', desc: 'ì˜¤ë¡œë¼ ê°€ë£¨ ë¿Œë¦¬ê³  ë¶ˆë© íƒ€ì„. ë¹„ìŠ¤í‚·+ì´ˆì½œë¦¿ìœ¼ë¡œ ìŠ¤ëª¨ì–´ ëƒ ëƒ .', tags: ['íë§', 'ë¶ˆë©', 'í˜¸ë‘ë‘'], address: 'ìˆ™ì†Œ', icon: 'moon', color: 'text-purple-500', bg: 'bg-purple-100' }
            ],
            day2: [
                { id: 'd2-1', time: '09:00', title: 'ì•„ì¹¨ ì‹ì‚¬ â˜•', category: 'food', desc: 'ì–´ì œ ì‚° ì†Œë¡œë¹µì§‘ ë¹µ + ìˆ™ì†Œ ìº¡ìŠ ì»¤í”¼.', tags: ['ì¡°ì‹', 'ì—¬ìœ '], address: 'ìˆ™ì†Œ', icon: 'coffee', color: 'text-amber-700', bg: 'bg-amber-100' },
                { id: 'd2-2', time: '11:00', title: 'ì²´í¬ì•„ì›ƒ', category: 'stay', desc: 'ì§ ì •ë¦¬í•˜ê³  ì²´í¬ì•„ì›ƒ (11ì‹œ). ë¹ ì§„ ì§ ì—†ë‚˜ í™•ì¸!', tags: ['í‡´ì‹¤'], address: '-', icon: 'home', color: 'text-gray-500', bg: 'bg-gray-100' },
                { id: 'd2-3', time: '12:00', title: 'ì œë¯¼ì²œ ì†Œí’ˆìƒµ íˆ¬ì–´', category: 'sight', desc: 'ì†Œí’ˆìƒµ & ì„œì  êµ¬ê²½!  ë¸”ë£¨í”„ë¦°íŠ¸ë¶ â†’ ë‹¨í¸ì„  â†’ ê°€ê°€ì±…ë°© â†’ ê°€ê°€ìƒì  â†’ ì±…ë°©ì‡ë‹¤ â†’ ê³ ì‚¬ë¦¬ ì¡í™”ì  ', tags: ['ì†Œí’ˆìƒµ', 'ì‚°ì±…'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ ì œë¯¼ì²œ3ê¸¸', icon: 'shopping-bag', color: 'text-pink-500', bg: 'bg-pink-100' },
                { id: 'd2-4', time: '13:30', title: 'ì ì‹¬: ê³°ê³¨ì‹ë‹¹', category: 'food', desc: 'ìƒì„ êµ¬ì´, ì°¸ìˆ¯ì œìœ¡ì„ì‡  ë§›ì§‘. ì›¨ì´íŒ… ìˆì„ ìˆ˜ ìˆìŒ (ìºì¹˜í…Œì´ë¸” í™•ì¸).', tags: ['í•œì‹', 'ìƒì„ êµ¬ì´'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ ë´‰í™©ì‚°1ê¸¸ 1-2', icon: 'utensils', color: 'text-orange-600', bg: 'bg-orange-100' },
                { id: 'd2-5', time: '14:30', title: 'ì œë¯¼ì²œ ì¹´í˜', category: 'sight', desc: '- í”„ë¡ íŠ¸, ë°”ë¯€, ì²´ìŠ¤ë„›í”„ë Œì¦ˆ, ë¥´ì½”í‹° ì¤‘ì— ê³ ë¥´ê¸° (ë„ˆë¬´ ì–´ë ¤ì›€)', tags: ['ì¹´í˜', 'ì‚°ì±…'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ ì œë¯¼ì²œ3ê¸¸', icon: 'coffee', color: 'text-pink-500', bg: 'bg-pink-100' },
                { id: 'd2-6', time: '15:00', title: 'ê¸°ë…í’ˆ ì‡¼í•‘', category: 'sight', desc: 'ë¶€ìë–¡ì§‘ â†’ ê³µì£¼ì•Œë°¤ì„¼í„° â†’ ë² ì´ì»¤ë¦¬ ë°¤ë§ˆì„ ', tags: ['ê¸°ë…í’ˆ', 'ë°¤íŒŒì´'], address: 'ì¶©ë‚¨ ê³µì£¼ì‹œ ë°±ë¯¸ê³ ì„ê¸¸ 5-13', icon: 'shopping-bag', color: 'text-yellow-700', bg: 'bg-yellow-100' },
                { id: 'd2-7', time: '16:30', title: 'ì§‘ìœ¼ë¡œ ì¶œë°œ ğŸš—', category: 'move', desc: 'ì•ˆì „ìš´ì „í•´ì„œ ì§‘ìœ¼ë¡œ ë³µê·€!', tags: ['ê·€ê°€'], address: '-', icon: 'home', color: 'text-gray-500', bg: 'bg-gray-100' }
            ]
        };

        const checkList = {
            "ì• ë´‰ & ì¯© ğŸ‘¯â€â™€ï¸": ["ì–‘ë§ / ì†ì˜· / ì ì˜·", "ì—¬ë²Œ ì˜·, ëª¨ì", "ì„¸ë©´ë„êµ¬ / í™”ì¥í’ˆ / ë©”ì´í¬ì—… ë¦¬ë¬´ë²„", "ê³ ë°ê¸° / ì¶©ì „ê¸°", "ë Œì¦ˆ / ì•ˆê²½ / ë Œì¦ˆí†µ / ì„¸ì²™ì•¡", "ìš°ì‚° (í˜¹ì‹œ ëª¨ë¥´ë‹ˆ)", "ìƒ¤ì›Œ íƒ€ì˜¬ / íŠ¸ë¦¬íŠ¸ë¨¼íŠ¸"],
            "í˜¸ë‘ ì§ ğŸ©": ["ì´ë™ì¥", "í•˜ë„¤ìŠ¤ / ëª©ì¤„", "ì˜·", "ë°°ë³€ë´‰íˆ¬ / ë¬¼í‹°ìŠˆ", "ì‚¬ë£Œ"],
            "ì¥ë³¼ ê²ƒ (ë¨¹ê±°ë¦¬) ğŸ›’": ["ìƒìˆ˜ / ìŒë£Œìˆ˜", "ê³¼ì¼", "ìŠ¤ëª¨ì–´ ì¬ë£Œ (ë¹„ìŠ¤í‚·, ì´ˆì½œë¦¿)", "ì˜¤ë¡œë¼ ê°€ë£¨ (ë¶ˆë©ìš©)", "ì£¼ì „ë¶€ë¦¬ (ê¹Œê¹Œ)"]
        };

        // --- ìƒíƒœ ë³€ìˆ˜ (localStorageë¡œ ì €ì¥í•˜ì—¬ ìƒˆë¡œê³ ì¹¨í•´ë„ ìœ ì§€ë˜ê²Œ í•¨) ---
        let activeTab = 'day1';
        let completedSteps = JSON.parse(localStorage.getItem('gongju_completed')) || [];
        let checkedItems = JSON.parse(localStorage.getItem('gongju_checked')) || [];
        let expandedId = null;

        // --- ë Œë”ë§ í•¨ìˆ˜ ---
        function render() {
            const container = document.getElementById('content-area');
            container.innerHTML = '';

            if (activeTab === 'check') {
                renderChecklist(container);
            } else {
                renderTimeline(container, itinerary[activeTab]);
            }
            
            // ì•„ì´ì½˜ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
            lucide.createIcons();
            updateTabs();
        }

        function renderTimeline(container, items) {
            const wrapper = document.createElement('div');
            wrapper.className = 'space-y-4';

            items.forEach(item => {
                const isCompleted = completedSteps.includes(item.id);
                const isExpanded = expandedId === item.id;

                const itemHtml = `
                <div class="bg-white rounded-2xl shadow-sm border border-amber-50 overflow-hidden transition-all duration-300 hover:shadow-md">
                    <div class="p-5 flex gap-4 cursor-pointer" onclick="toggleExpand('${item.id}')">
                        <div class="flex flex-col items-center min-w-[3rem]">
                            <div class="w-10 h-10 rounded-full ${item.bg} flex items-center justify-center mb-2">
                                <i data-lucide="${item.icon}" class="${item.color}" width="20"></i>
                            </div>
                            <div class="h-full w-0.5 bg-gray-100 flex-1 dashed-line"></div>
                        </div>
                        
                        <div class="flex-1">
                            <div class="flex justify-between items-start mb-1">
                                <span class="inline-block px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-500 mb-1">${item.time}</span>
                                <button onclick="event.stopPropagation(); toggleStep('${item.id}')" class="transition-colors ${isCompleted ? 'text-green-500' : 'text-gray-300 hover:text-amber-400'}">
                                    <i data-lucide="${isCompleted ? 'check-circle' : 'circle'}" width="20" class="${isCompleted ? 'fill-current' : ''}"></i>
                                </button>
                            </div>
                            <h3 class="text-lg font-bold text-gray-800 mb-1 ${isCompleted ? 'line-through text-gray-400' : ''}">${item.title}</h3>
                            <p class="text-sm text-gray-600 line-clamp-1">${item.desc}</p>
                            <div class="flex gap-1 mt-2 flex-wrap">
                                ${item.tags.map(tag => `<span class="text-[10px] px-1.5 py-0.5 bg-gray-50 text-gray-500 rounded border border-gray-100">#${tag}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                    
                    ${isExpanded ? `
                    <div class="bg-amber-50/30 px-5 pb-5 pt-2 border-t border-amber-50/50">
                        <div class="bg-white p-4 rounded-xl border border-amber-100 text-sm space-y-3">
                            <p class="text-gray-700 leading-relaxed">${item.desc}</p>
                            ${item.address !== '-' ? `
                            <div class="flex items-center justify-between bg-gray-50 p-2 rounded-lg">
                                <div class="flex items-center gap-2 text-gray-500 text-xs overflow-hidden">
                                    <i data-lucide="map-pin" width="14" class="shrink-0"></i>
                                    <span class="truncate">${item.address}</span>
                                </div>
                                <button onclick="copyToClipboard('${item.address}')" class="p-1.5 bg-white rounded shadow-sm text-gray-500 hover:text-amber-600">
                                    <i data-lucide="copy" width="14"></i>
                                </button>
                            </div>` : ''}
                            <div class="flex gap-2 text-xs text-gray-500">
                                ${item.category === 'food' ? '<span class="flex items-center gap-1"><i data-lucide="info" width="12"></i> ë§›ì§‘ ì €ì¥</span>' : ''}
                                ${item.category === 'sight' ? '<span class="flex items-center gap-1"><i data-lucide="camera" width="12"></i> ì‚¬ì§„ ëª…ì†Œ</span>' : ''}
                                ${item.tags.includes('ì• ê²¬ë™ë°˜') ? '<span class="flex items-center gap-1 text-amber-600 font-medium"><i data-lucide="dog" width="12"></i> í˜¸ë‘ ì…ì¥ ê°€ëŠ¥</span>' : ''}
                            </div>
                        </div>
                    </div>` : ''}
                </div>`;
                
                wrapper.innerHTML += itemHtml;
            });

            wrapper.innerHTML += `
            <div class="text-center py-8">
                <p class="text-amber-900/40 text-sm font-handwriting">ê³µì£¼ë“¤ì˜<br/>ê³µì£¼ ì—¬í–‰ ğŸŒ°</p>
            </div>`;
            
            container.appendChild(wrapper);
        }

        function renderChecklist(container) {
            const wrapper = document.createElement('div');
            wrapper.className = 'space-y-6';

            Object.entries(checkList).forEach(([category, items]) => {
                const itemsHtml = items.map(item => {
                    const isChecked = checkedItems.includes(item);
                    return `
                    <div onclick="toggleCheckItem('${item}')" class="flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors">
                        <div class="w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${isChecked ? 'bg-amber-500 border-amber-500' : 'border-gray-300'}">
                            ${isChecked ? '<i data-lucide="check-circle" width="14" class="text-white"></i>' : ''}
                        </div>
                        <span class="${isChecked ? 'text-gray-400 line-through' : 'text-gray-700'}">${item}</span>
                    </div>`;
                }).join('');

                const iconName = category.includes('í˜¸ë‘') ? 'dog' : category.includes('ì¥ë³¼') ? 'shopping-bag' : 'check-circle';
                const iconColor = category.includes('í˜¸ë‘') ? 'text-amber-500' : category.includes('ì¥ë³¼') ? 'text-blue-500' : 'text-green-500';

                wrapper.innerHTML += `
                <div class="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                    <h3 class="text-lg font-bold text-amber-900 mb-4 flex items-center gap-2">
                        <i data-lucide="${iconName}" width="20" class="${iconColor}"></i> ${category}
                    </h3>
                    <div class="space-y-3">${itemsHtml}</div>
                </div>`;
            });

            wrapper.innerHTML += `<div class="bg-amber-100 rounded-xl p-4 text-center text-amber-800 text-sm">ë¹ ì§„ ê²ƒ ì—†ì´ ì±™ê²¼ë‚˜ìš”? ğŸ¤”</div>`;
            container.appendChild(wrapper);
        }

        // --- ê¸°ëŠ¥ í•¨ìˆ˜ë“¤ ---
        function switchTab(tab) {
            activeTab = tab;
            render();
        }

        function updateTabs() {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.className = 'tab-btn flex-1 py-2 rounded-lg text-sm font-semibold transition-all duration-200 text-amber-200 hover:bg-white/10 flex justify-center items-center gap-1';
            });
            
            const activeBtn = document.getElementById(`btn-${activeTab}`);
            activeBtn.className = 'tab-btn flex-1 py-2 rounded-lg text-sm font-semibold transition-all duration-200 bg-white text-amber-900 shadow-sm transform scale-100 flex justify-center items-center gap-1';
        }

        function toggleStep(id) {
            if (completedSteps.includes(id)) {
                completedSteps = completedSteps.filter(stepId => stepId !== id);
            } else {
                completedSteps.push(id);
            }
            localStorage.setItem('gongju_completed', JSON.stringify(completedSteps));
            render();
        }

        function toggleCheckItem(item) {
            if (checkedItems.includes(item)) {
                checkedItems = checkedItems.filter(i => i !== item);
            } else {
                checkedItems.push(item);
            }
            localStorage.setItem('gongju_checked', JSON.stringify(checkedItems));
            render();
        }

        function toggleExpand(id) {
            expandedId = expandedId === id ? null : id;
            render();
        }

        function copyToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                alert('ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤: ' + text);
            } catch (err) {
                console.error('ë³µì‚¬ ì‹¤íŒ¨', err);
            }
            document.body.removeChild(textArea);
        }

        // ì´ˆê¸° ì‹¤í–‰
        render();
    </script>
</body>
</html>